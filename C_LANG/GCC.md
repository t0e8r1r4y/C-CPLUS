# GCC

> GNU Compiler Collection

## GCC란
- GNU 컴파일러 모음의 약자. GNU 프로젝트의 일환으로 개발되어 널리 쓰이고 있는 컴파일
- GNU는 GNU's not UNIX의 재귀약자로, 리처드 스톨먼이 각종 자유 소프트웨어들이 돌아가고 번영할 수 있는 기반 생태계를 구축하기 위해 시작한 프로젝트이다.
- `컴파일러`는 어떤 언어의 코드를 다른 언어로 바꿔주는 과정을 말한다.


<br/>

## 소스코드가 실행파일이 되는 과정
> 전처리 단계  
> 컴파일 단계  
> 어셈블 단계  
> 링크 단계  

![C컴파일 과정](https://user-images.githubusercontent.com/91730236/198865920-ed1f2028-a064-4b40-944e-4aeebc6aa870.png)


#### 1️⃣ 전처리 단계
- 전처리기가 소스 파일 내의 전처리기 지시자를 처리한다.
- 컴파일 이전의 처리 단계이다.
- 전처리기 지시자란 #으로 시작하고 개행문자로 종료되는 라인을 의미한다.
  - #include : 지정된 특정 파일의 내용을 해당 지시자가 있는 위치에 삽입
  - #define : 매크로 함수 및 상수 정의에 사용한다.
  - #if #endif : 조건부 컴파일
  - 등등
- 전처리 단계를 거치면 소스 파일은 `.i 확장자`를 가진 파일이 생성된다.


<br/>


#### 2️⃣ 컴파일 단계
- 전처리된 파일인 .i 파일로 부터 어셈블리어로 된 파일인 `.s`파일을 생성한다.
- 어셈블리어란 기계어와 저수준 언어에 속한다. 기계어는 1,0으로 이뤄져 있는데 사람이 해독이 불가능하므로 이를 보완한것이 어셈블리 언더어다.

<br/>

#### 3️⃣ 어셈블 단계
- 어셈블리어 파일을 기계어로 된 오브젝트 파일로 변환한다.

<br/>

#### 4️⃣ 링크단계
- 링크 단계는 작성한 프로그램이 사용하는 다른 프로그램이나 라이브러리를 가져와서 연결하는 과정이다. 그 결과로 실행 가능한 파일을 생성한다.


<br/>

## GCC 컴파일 옵션
```
-o [파일명] [*.c] : 지정한 파일명으로 실행 파일을 저장한다.
	ex) gcc -o result.out main.c

-E : 전처리 단계를 수행한 후, 컴파일 과정을 거치지 않는다.
			실행 결과는 standard output에 출력된다.
-S : 컴파일 단계를 수행한 후, 어셈블 과정을 거치지 않는다. 
			실행 결과로 어셈블리어로 변환된 *.s 파일이 생성된다.
-c [파일명] [*.c] : 소스 코드를 컴파일 또는 어셈블하며, 링크를 하지 않는다.
									파일명으로 오브젝트 파일을 생성한다.
									ex) gcc -c ft_isalnum.c
-I [디렉토리명] : 디렉토리명에서 헤더 파일을 검색한다.

-l [라이브러리] : 라이브러리 파일과 링크한다. 접미사나 확장자(.a/.o)가 없어도 링크한다.
								ex) 라이브러리 파일이 libmath.a 일때 다음과 같이 작성
										gcc myfile.c -lmath -o myfile
-L [디렉토리명] : 디렉토리 내에서 라이브러리 파일을 찾는다.
-D [매크로상수명]=[값] : 매크로 상수를 정의하기 위한 옵션이다.
	ex) gcc -D BUFFER_SIZE=42 : BUFFER_SIZE 라는 매크로 상수의 값을 42로 설정한다.
```
